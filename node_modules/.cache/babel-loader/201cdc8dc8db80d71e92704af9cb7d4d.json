{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\evrim\\\\Desktop\\\\frontend\\\\src\\\\components\\\\ListStudents.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react'; // Service\n\nimport { deleteStudent } from '../services/StudentService'; // Styles\n\nimport { ListWrapper, ListContainer, ListHeading, ListDivider, ListHeader, ListSearch, ListSearchInput, ListCreateStudent, ListTable, ListTableRow, ListTableHeading, ListTableData, ListTableButton } from '../sc/scListStudent';\nimport { ListDeletePopup, ListDeletePopupContainer, ListDeletePopupText, ListDeletePopupButtons, ListDeletePopupButton } from '../sc/scListStudent'; // Icons\n\nimport { IconSearch, IconAdd, IconEdit, IconDelete, IconDeleteStudent } from './icons';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ListStudents = ({\n  setType,\n  setOpen,\n  setStudentToUpdate,\n  fetchedStudents,\n  setFetchedStudents,\n  setMessage\n}) => {\n  _s();\n\n  const [students, setStudents] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [deleteWindowOpen, setDeleteWindowOpen] = useState(false);\n  const [studentToDelete, setStudentToDelete] = useState(null);\n  useEffect(() => {\n    setStudents([...fetchedStudents]);\n    setSearchValue('');\n  }, [fetchedStudents]);\n  useEffect(() => {\n    if (!searchValue) {\n      setStudents([...fetchedStudents]);\n      return;\n    }\n\n    searchStudents(searchValue); // eslint-disable-next-line\n  }, [searchValue]);\n\n  const searchStudents = searchValue => {\n    setStudents(fetchedStudents.filter(student => student.id.toString().toLowerCase().search(searchValue) > -1 || student.name.toLowerCase().search(searchValue) > -1 || student.surname.toLowerCase().search(searchValue) > -1 || student.phoneNumber.toLowerCase().search(searchValue) > -1 || student.city.toLowerCase().search(searchValue) > -1 || student.district.toLowerCase().search(searchValue) > -1));\n  };\n\n  const openCreateStudentWindow = () => {\n    setType('create');\n    setOpen(true);\n  };\n\n  const openUpdateStudentWindow = (e, student) => {\n    e.preventDefault();\n    setType('update');\n    setOpen(true);\n    setStudentToUpdate({ ...student\n    });\n  };\n\n  const deleteCurrentStudent = (e, student) => {\n    e.preventDefault();\n    deleteStudent(student.id).then(() => setFetchedStudents(students => students.filter(s => s.id !== student.id))).catch(() => setMessage(\"Cannot delete student\"));\n    closeDeleteStudentWindow();\n  };\n\n  const openDeleteStudentWindow = (e, student) => {\n    e.preventDefault();\n    setStudentToDelete({ ...student\n    });\n    setDeleteWindowOpen(true);\n  };\n\n  const closeDeleteStudentWindow = (e = null) => {\n    if (e) e.preventDefault();\n    setStudentToDelete(null);\n    setDeleteWindowOpen(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(ListWrapper, {\n    children: [/*#__PURE__*/_jsxDEV(ListDeletePopup, {\n      deleteWindowOpen: deleteWindowOpen ? 'true' : 'false',\n      children: /*#__PURE__*/_jsxDEV(ListDeletePopupContainer, {\n        children: [/*#__PURE__*/_jsxDEV(IconDeleteStudent, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ListDeletePopupText, {\n          children: \"Are you sure about removing this student?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ListDeletePopupButtons, {\n          children: [/*#__PURE__*/_jsxDEV(ListDeletePopupButton, {\n            onClick: e => closeDeleteStudentWindow(e),\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListDeletePopupButton, {\n            onClick: e => deleteCurrentStudent(e, studentToDelete),\n            delete: true,\n            children: \"Delete\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(ListContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ListHeading, {\n        children: \"Student List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ListDivider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ListHeader, {\n        children: [/*#__PURE__*/_jsxDEV(ListSearch, {\n          children: [/*#__PURE__*/_jsxDEV(IconSearch, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(ListSearchInput, {\n            value: searchValue,\n            onChange: e => setSearchValue(e.target.value),\n            type: \"text\",\n            placeholder: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(ListCreateStudent, {\n          onClick: openCreateStudentWindow,\n          children: [\"Add Student \", /*#__PURE__*/_jsxDEV(IconAdd, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 71\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(ListTable, {\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(ListTableRow, {\n            children: [/*#__PURE__*/_jsxDEV(ListTableHeading, {\n              invisibleOnSmallMobile: true,\n              children: \"Photo\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ListTableHeading, {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ListTableHeading, {\n              children: \"Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ListTableHeading, {\n              invisibleOnMobile: true,\n              children: \"Surname\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ListTableHeading, {\n              big: true,\n              invisibleOnTablet: true,\n              children: \"Phone Number\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ListTableHeading, {\n              invisibleOnTablet: true,\n              children: \"City\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ListTableHeading, {\n              invisibleOnTablet: true,\n              children: \"District\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 8\n            }, this), /*#__PURE__*/_jsxDEV(ListTableHeading, {\n              children: \"Actions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: students.map(student => {\n            return /*#__PURE__*/_jsxDEV(ListTableRow, {\n              children: [/*#__PURE__*/_jsxDEV(ListTableData, {\n                invisibleOnSmallMobile: true,\n                photo: true,\n                children: [student.photo && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"http://localhost:8080/imagedata/\" + student.photo,\n                    alt: \"\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 115,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 29\n                }, this), !student.photo && /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: \"...\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 30\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListTableData, {\n                children: student.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 118,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListTableData, {\n                children: student.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListTableData, {\n                invisibleOnMobile: true,\n                children: student.surname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListTableData, {\n                big: true,\n                invisibleOnTablet: true,\n                children: student.phoneNumber\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 121,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListTableData, {\n                invisibleOnTablet: true,\n                children: student.city\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 122,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListTableData, {\n                invisibleOnTablet: true,\n                children: student.district\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 123,\n                columnNumber: 9\n              }, this), /*#__PURE__*/_jsxDEV(ListTableData, {\n                children: [/*#__PURE__*/_jsxDEV(ListTableButton, {\n                  onClick: e => openUpdateStudentWindow(e, student),\n                  children: /*#__PURE__*/_jsxDEV(IconEdit, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 126,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 10\n                }, this), /*#__PURE__*/_jsxDEV(ListTableButton, {\n                  onClick: e => openDeleteStudentWindow(e, student),\n                  children: /*#__PURE__*/_jsxDEV(IconDelete, {}, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 129,\n                    columnNumber: 11\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 10\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 9\n              }, this)]\n            }, student.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 4\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 3\n  }, this);\n};\n\n_s(ListStudents, \"W6j3+G719uJIonBQLUkBiJs0FS4=\");\n\n_c = ListStudents;\nexport default ListStudents;\n\nvar _c;\n\n$RefreshReg$(_c, \"ListStudents\");","map":{"version":3,"sources":["C:/Users/evrim/Desktop/frontend/src/components/ListStudents.js"],"names":["React","useState","useEffect","deleteStudent","ListWrapper","ListContainer","ListHeading","ListDivider","ListHeader","ListSearch","ListSearchInput","ListCreateStudent","ListTable","ListTableRow","ListTableHeading","ListTableData","ListTableButton","ListDeletePopup","ListDeletePopupContainer","ListDeletePopupText","ListDeletePopupButtons","ListDeletePopupButton","IconSearch","IconAdd","IconEdit","IconDelete","IconDeleteStudent","ListStudents","setType","setOpen","setStudentToUpdate","fetchedStudents","setFetchedStudents","setMessage","students","setStudents","searchValue","setSearchValue","deleteWindowOpen","setDeleteWindowOpen","studentToDelete","setStudentToDelete","searchStudents","filter","student","id","toString","toLowerCase","search","name","surname","phoneNumber","city","district","openCreateStudentWindow","openUpdateStudentWindow","e","preventDefault","deleteCurrentStudent","then","s","catch","closeDeleteStudentWindow","openDeleteStudentWindow","target","value","map","photo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\n\n// Service\nimport { deleteStudent } from '../services/StudentService';\n\n// Styles\nimport { ListWrapper, ListContainer, ListHeading, ListDivider, ListHeader, ListSearch, ListSearchInput,\nListCreateStudent, ListTable, ListTableRow, ListTableHeading, ListTableData, ListTableButton } from '../sc/scListStudent';\nimport { ListDeletePopup, ListDeletePopupContainer, ListDeletePopupText, ListDeletePopupButtons, ListDeletePopupButton } from '../sc/scListStudent';\n\n// Icons\nimport { IconSearch, IconAdd, IconEdit, IconDelete, IconDeleteStudent } from './icons';\n\nconst ListStudents = ({ setType, setOpen, setStudentToUpdate, fetchedStudents, setFetchedStudents, setMessage }) => {\n\tconst [students, setStudents] = useState([]);\n\tconst [searchValue, setSearchValue] = useState('');\n\tconst [deleteWindowOpen, setDeleteWindowOpen] = useState(false);\n\tconst [studentToDelete, setStudentToDelete] = useState(null);\n\n\tuseEffect(() => {\n\t\tsetStudents([...fetchedStudents]);\n\t\tsetSearchValue('');\n\t}, [fetchedStudents]);\n\n\tuseEffect(() => {\n\t\tif(!searchValue) {\n\t\t\tsetStudents([...fetchedStudents]);\n\t\t\treturn;\t\n\t\t}\n\n\t\tsearchStudents(searchValue);\n\t// eslint-disable-next-line\n\t}, [searchValue]);\n\n\tconst searchStudents = (searchValue) => {\n\t\tsetStudents(fetchedStudents.filter(student => \n\t\t\t((student.id).toString().toLowerCase().search(searchValue) > -1 || student.name.toLowerCase().search(searchValue) > -1 || \n\t\t\tstudent.surname.toLowerCase().search(searchValue) > -1 || student.phoneNumber.toLowerCase().search(searchValue) > -1) || \n\t\t\tstudent.city.toLowerCase().search(searchValue) > -1 || student.district.toLowerCase().search(searchValue) > -1));\n\t};\n\n\tconst openCreateStudentWindow = () => {\n\t\tsetType('create');\n\t\tsetOpen(true);\n\t};\n\n\tconst openUpdateStudentWindow = (e, student) => {\n\t\te.preventDefault();\n\t\tsetType('update');\n\t\tsetOpen(true);\n\t\tsetStudentToUpdate({ ...student });\n\t};\n\t\n\tconst deleteCurrentStudent = (e, student) => {\n\t\te.preventDefault();\n\t\tdeleteStudent(student.id)\n\t\t.then(() => setFetchedStudents(students => students.filter(s => s.id !== student.id)))\n\t\t.catch(() => setMessage(\"Cannot delete student\"));\n\t\tcloseDeleteStudentWindow();\n\t};\n\n\tconst openDeleteStudentWindow = (e, student) => {\n\t\te.preventDefault();\n\t\tsetStudentToDelete({ ...student });\n\t\tsetDeleteWindowOpen(true);\n\t};\n\n\tconst closeDeleteStudentWindow = (e = null) => {\n\t\tif(e)\n\t\t\te.preventDefault();\n\n\t\tsetStudentToDelete(null);\n\t\tsetDeleteWindowOpen(false);\n\t}\n\n    return (\n\t\t<ListWrapper>\n\t\t\t<ListDeletePopup deleteWindowOpen={ deleteWindowOpen ? 'true' : 'false' }>\n\t\t\t\t<ListDeletePopupContainer>\n\t\t\t\t\t<IconDeleteStudent />\n\t\t\t\t\t<ListDeletePopupText>Are you sure about removing this student?</ListDeletePopupText>\n\t\t\t\t\t<ListDeletePopupButtons>\n\t\t\t\t\t\t<ListDeletePopupButton onClick={e => closeDeleteStudentWindow(e)}>Cancel</ListDeletePopupButton>\n\t\t\t\t\t\t<ListDeletePopupButton onClick={e => deleteCurrentStudent(e, studentToDelete)} delete>Delete</ListDeletePopupButton>\n\t\t\t\t\t</ListDeletePopupButtons>\n\t\t\t\t</ListDeletePopupContainer>\n\t\t\t</ListDeletePopup>\n\t\t\t<ListContainer>\n\t\t\t\t<ListHeading>Student List</ListHeading>\n\t\t\t\t<ListDivider />\n\t\t\t\t<ListHeader>\n\t\t\t\t\t<ListSearch>\n\t\t\t\t\t\t<IconSearch />\n\t\t\t\t\t\t<ListSearchInput value={ searchValue } onChange={e => setSearchValue(e.target.value)} type=\"text\" placeholder=\"Search\"/>\n\t\t\t\t\t</ListSearch>\n\t\t\t\t\t<ListCreateStudent onClick={openCreateStudentWindow}>Add Student <IconAdd /></ListCreateStudent>\n\t\t\t\t</ListHeader>\n\t\t\t\t<ListTable>\n\t\t\t\t\t<thead>\n\t\t\t\t\t\t<ListTableRow>\n\t\t\t\t\t\t\t<ListTableHeading invisibleOnSmallMobile>Photo</ListTableHeading>\n\t\t\t\t\t\t\t<ListTableHeading>ID</ListTableHeading>\n\t\t\t\t\t\t\t<ListTableHeading>Name</ListTableHeading>\n\t\t\t\t\t\t\t<ListTableHeading invisibleOnMobile>Surname</ListTableHeading>\n\t\t\t\t\t\t\t<ListTableHeading big invisibleOnTablet>Phone Number</ListTableHeading>\n\t\t\t\t\t\t\t<ListTableHeading invisibleOnTablet>City</ListTableHeading>\n\t\t\t\t\t\t\t<ListTableHeading invisibleOnTablet>District</ListTableHeading>\n\t\t\t\t\t\t\t<ListTableHeading>Actions</ListTableHeading>\n\t\t\t\t\t\t</ListTableRow>\n\t\t\t\t\t</thead>\n\t\t\t\t\t<tbody>\n\t\t\t\t\t\t{ students.map(student => {\n\t\t\t\t\t\t\treturn <ListTableRow key={ student.id }>\n\t\t\t\t\t\t\t\t<ListTableData invisibleOnSmallMobile photo>\n\t\t\t\t\t\t\t\t\t{ student.photo && <div><img src={\"http://localhost:8080/imagedata/\" + student.photo} alt=\"\" /></div> }\n\t\t\t\t\t\t\t\t\t{ !student.photo && <div>...</div> }\n\t\t\t\t\t\t\t\t</ListTableData>\n\t\t\t\t\t\t\t\t<ListTableData>{ student.id }</ListTableData>\n\t\t\t\t\t\t\t\t<ListTableData>{ student.name }</ListTableData>\n\t\t\t\t\t\t\t\t<ListTableData invisibleOnMobile>{ student.surname }</ListTableData>\n\t\t\t\t\t\t\t\t<ListTableData big invisibleOnTablet>{ student.phoneNumber }</ListTableData>\n\t\t\t\t\t\t\t\t<ListTableData invisibleOnTablet>{ student.city }</ListTableData>\n\t\t\t\t\t\t\t\t<ListTableData invisibleOnTablet>{ student.district }</ListTableData>\n\t\t\t\t\t\t\t\t<ListTableData>\n\t\t\t\t\t\t\t\t\t<ListTableButton onClick={e => openUpdateStudentWindow(e, student)}>\n\t\t\t\t\t\t\t\t\t\t<IconEdit />\n\t\t\t\t\t\t\t\t\t</ListTableButton>\n\t\t\t\t\t\t\t\t\t<ListTableButton onClick={e => openDeleteStudentWindow(e, student)}>\n\t\t\t\t\t\t\t\t\t\t<IconDelete />\n\t\t\t\t\t\t\t\t\t</ListTableButton>\n\t\t\t\t\t\t\t\t</ListTableData>\n\t\t\t\t\t\t\t</ListTableRow>\n\t\t\t\t\t}) }\n\t\t\t\t\t</tbody>\n\t\t\t\t</ListTable>\n\t\t\t</ListContainer>\n\t\t</ListWrapper>\n    )\n};\n\nexport default ListStudents;"]},"metadata":{},"sourceType":"module"}